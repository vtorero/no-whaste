<div style="height:auto;">
    <form  #formGeneral="ngForm">
    <div mat-dialog-content>
      <h3>Agregar Inventario</h3>
        <div style="display: flex;flex-direction: column; margin:1rem auto; width: 750px; padding: 1rem;">
          <mat-form-field>
            <mat-label>Producto</mat-label>
            <mat-select  name="id_producto" #id_producto="ngModel" [(ngModel)]="data.id_producto" required>
              <input class="buscador" (keyup)="onKey($event.target.value)" placeholder="Buscar..">
              <mat-option  *ngFor="let pro of dataProducto"  [value]="pro.id">{{pro.nombre}}</mat-option>
            </mat-select>
          </mat-form-field>
          <div class="row">
            <div class="col-lg-4">
              <mat-form-field>
                <mat-select  name="presentacion" #presentacion="ngModel" [(ngModel)]="data.presentacion" placeholder="Presentación" required>
                  <mat-option  value="">Seleccionar</mat-option>
                  <mat-option  value="bolsa">Bolsa</mat-option>
                  <mat-option  value="molde">Molde</mat-option>
                  <mat-option  value="Sellado">Sellado</mat-option>
                </mat-select>
              </mat-form-field>
               </div>
            <div class="col-lg-4">
              <mat-form-field>
                <mat-label>Unidad Medida</mat-label>
                <mat-select name="unidad" #unidad="ngModel" [(ngModel)]="data.unidad" required>
                  <mat-option [value]="">Seleccionar</mat-option>
                  <mat-option *ngFor="let und of dataUnidades" [value]="und.id">{{und.tipo}}</mat-option>
                </mat-select>
              </mat-form-field>

              </div>

            <div class="col-lg-4">
              <mat-form-field>
                <input matInput name="cantidad" #cantidad="ngModel" (focusout)="onCantidad($event.target.value, data)" [(ngModel)]="data.cantidad" type="number" placeholder="Ingrese unidades" required>
            </mat-form-field>
                  </div>
            </div>
            <div class="row">
              <div class="col-lg-4">
                <mat-form-field>
                    <input matInput name="granel" #granel="ngModel" [(ngModel)]="data.granel" type="number" placeholder="Ingrese Granel" required>
                </mat-form-field>
                </div>
                <div class="col-lg-4">
                  <mat-form-field>
                      <input matInput name="merma" #merma="ngModel" [(ngModel)]="data.merma" type="number" placeholder="Ingrese Recorte" required>
                  </mat-form-field>
                  </div>

            </div>
           <mat-form-field>
              <mat-label>Observación</mat-label>
              <input matInput name="observacion" #observacion="ngModel" [(ngModel)]="data.observacion" type="text" placeholder="Observación">
          </mat-form-field>
          <div class="row">
            <div class="col-6"> <mat-form-field>
                <mat-label>Fecha de producción</mat-label>
                <input  matInput [matDatepicker]="myPicker" name="fecha_produccion" #fecha_produccion="ngModel" [(ngModel)]="data.fecha_produccion" placeholder="Fecha de producción" required>
                <mat-datepicker-toggle  matSuffix [for]="myPicker"></mat-datepicker-toggle>
                <mat-datepicker #myPicker></mat-datepicker>
            </mat-form-field></div>
            <div class="col-6">    <mat-form-field>
                <mat-label>Fecha de vencimiento</mat-label>
                <input  matInput [matDatepicker]="myPicker2" name="fecha_vencimiento" #fecha_produccion="ngModel" [(ngModel)]="data.fecha_vencimiento" placeholder="Fecha de vencimiento" required>
                <mat-datepicker-toggle  matSuffix [for]="myPicker2"></mat-datepicker-toggle>
                <mat-datepicker #myPicker2></mat-datepicker>
            </mat-form-field></div>
          </div>
          </div>
    </div>
  </form>
    <div mat-dialog-actions>
        <button mat-raised-button (click)="cancelar()"> Cancelar</button>
        <button mat-raised-button color="primary" [mat-dialog-close]="data" [disabled]="!formGeneral.form.valid" cdkFocusInitial>Registrar</button>
    </div>
    </div>